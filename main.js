(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var i={},s=[],d=0;d<t.length;d++){var a=t[d],c=o.base?a[0]+o.base:a[0],l=i[c]||0,p="".concat(c," ").concat(l);i[c]=l+1;var h=n(p),m={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==h)e[h].references++,e[h].updater(m);else{var u=r(m,o);o.byIndex=d,e.splice(d,0,{identifier:p,updater:u,references:1})}s.push(p)}return s}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=o(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var d=n(i[s]);e[d].references--}for(var a=o(t,r),c=0;c<i.length;c++){var l=n(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=a}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var d=0;d<this.length;d++){var a=this[d][0];null!=a&&(s[a]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);o&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},365:(t,e,n)=>{n.d(e,{A:()=>d});var o=n(601),r=n.n(o),i=n(314),s=n.n(i)()(r());s.push([t.id,"*,\n::after,\n::before {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nhtml,\nbody {\n    height: 100vh;\n    width: 100vw;\n}\n\nbody {\n    background: linear-gradient(to top, #d0f0ff, #87ceeb);\n\n}\n\nbutton {\n    cursor: pointer;\n}\n\n.filler {\n    height: 10%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.h1Container {\n    text-align: center;\n    width: 100%;\n}\n\n.creationButtons {\n    margin-right: 1rem;\n\n}\n\n.newProjBtn {\n    background-color: blue;\n}\n\n.newToDoBtn {\n    background-color: green;\n}\n\n.creationButtons button {\n    border: none;\n    padding: 1rem 2rem;\n    border-radius: 10px;\n    color: white;\n    font-size: 1rem;\n}\n\n.notebookContainer {\n    height: 90%;\n    display: flex;\n}\n\n.notebook {\n    height: 100%;\n    width: 80%;\n    margin-left: auto;\n    margin-right: 1rem;\n    background-color: white;\n    border-top-left-radius: 20px;\n    border-top-right-radius: 20px;\n}\n\n.projectContainer {\n    height: 90%;\n    width: 18%;\n    min-width: 250px;\n    margin-left: 1rem;\n    margin-right: 1rem;\n    background-color: white;\n    border-radius: 20px;\n}\n\n.projectContainer h3 {\n    text-align: center;\n    font-size: 1.5rem;\n    margin-bottom: 1rem;\n}\n\n.formContainer {\n    position: absolute;\n}\n\n.projectListHeader,\n.toDoListHeader {\n    position: relative;\n}\n\n.toDoListHeader {\n    padding-top: 0.2rem;\n    margin-bottom: 1rem;\n}\n\n.projectListHeader button,\n.toDoAddButton {\n    position: absolute;\n    right: 15px;\n    top: 5px;\n    border: none;\n    background-color: blue;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.toDoAddButton {\n    background-color: green;\n}\n\n.projectListHeader button img,\n.toDoAddButton img {\n    filter: invert(100%)\n}\n\n.projectListHeader button:active,\n.toDoAddButton:active {\n    opacity: 80%;\n}\n\n.projectListItem {\n    border-bottom: 1px solid black;\n    padding: 0.5rem 0.25rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 1rem;\n}\n\n.projectListInput {\n    padding: 0.5rem 0.25rem;\n    border: none;\n    font-size: 1rem;\n    margin-left: 1rem;\n}\n\n.projectListInput:focus {\n    outline: none;\n}\n\n\n.projectListItem:first-of-type {\n    border-top: 1px solid black;\n}\n\n.projectListItem input {\n    font-size: 1rem;\n    width: 100%;\n    border: 1px solid lightgray;\n    margin-bottom: 5px;\n}\n\n.projectListItem textarea {\n    border: 1px solid lightgray;\n}\n\n.projectListItem input:focus {\n    outline: none;\n}\n\n.projConfirmationButtons {\n    display: flex;\n}\n\n.checkBtn,\n.delBtn {\n    border: none;\n    cursor: pointer;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 3px;\n    height: 26px;\n}\n\n.checkBtn {\n    background-color: green;\n}\n\n.delBtn {\n    background-color: red;\n    margin-left: 5px;\n}\n\n.checkBtn img,\n.delBtn img {\n    filter: invert(100%);\n}\n\n.inputDiv {\n    width: 100%;\n    margin-right: 1rem;\n    margin-left: 7px;\n}\n\n.inputDiv textarea {\n    width: 100%;\n    font-size: 1rem;\n    min-height: 2rem;\n}\n\n.andNotes {\n    border-bottom: 1px solid black;\n    padding: 0.5rem 0.25rem;\n    display: grid;\n    grid-template-columns: 30px 1fr 20px;\n    align-items: top;\n    font-size: 1rem;\n}\n\n.andNotes:first-of-type {\n    border-top: 1px solid black;\n}\n\n.andNotes input {\n    font-size: 1rem;\n    width: 100%;\n    border: 1px solid lightgray;\n    margin-bottom: 5px;\n}\n\n.andNotes textarea {\n    border: 1px solid lightgray;\n}\n\n.andNotes input:focus {\n    outline: none;\n}\n\n.newTitle {\n    max-height: 1rem;\n}\n\n.sepDivContainer {\n    display: flex;\n}\n\n.projLiSep {\n    display: flex;\n}\n\n.projLiSep:nth-of-type(2) {\n\n    margin-left: 1rem;\n    margin-right: 1rem;\n}\n\n.projLiSep h2,\n.notes {\n    font-size: 1rem;\n}\n\n.projLiSep h2 {\n    margin-right: 0.25rem;\n    cursor: pointer;\n}\n\n.notes {\n    max-height: 1rem;\n    overflow: hidden;\n}\n\n.editButton {\n    border: none;\n    background: none;\n}\n\n.editButton img {\n    width: 20px;\n}\n\n.projectInfo {\n    display: flex;\n    align-items: center;\n}\n\n.editWindowToDo {\n    background-color: lightblue;\n    position: absolute;\n    list-style: none;\n    border-radius: 7%;\n    font-size: 1rem;\n}\n\n.newNotes {\n    min-height: 200px;\n    min-width: 400px;\n    font-size: 1rem;\n}\n\n.editLi,\n.delLi {\n    padding: 0.25rem 0.5rem;\n}\n\n.editLi:hover,\n.delLi:hover {\n    background-color: rgb(139, 175, 187);\n    border-radius: 7%;\n}\n\n.editLi {\n    border-bottom: 1px solid black;\n\n}\n\n.priorityDiv {\n    display: flex;\n}\n\n.priorityDiv label {\n    font-size: 1rem;\n    font-weight: 600;\n}\n\n.priorityH2 {\n    font-size: 1rem;\n}",""]);const d=s},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=o[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.nc=void 0;var o=n(72),r=n.n(o),i=n(825),s=n.n(i),d=n(659),a=n.n(d),c=n(56),l=n.n(c),p=n(540),h=n.n(p),m=n(113),u=n.n(m),g=n(365),f={};f.styleTagTransform=u(),f.setAttributes=l(),f.insert=a().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=h(),r()(g.A,f),g.A&&g.A.locals&&g.A.locals;const j=n.p+"ad4084649109809b8e1c.svg",v=n.p+"ef631d88a739e6a90204.svg";class y{#t;constructor(t,e,n=null,o){if(void 0===t||void 0===e)throw new Error("Need at least a title and due date.");this._title=t,this._description=n,this._dueDate=e,this._priority=o,this._completed=!1}get title(){return this._title}set title(t){if(t.length<1)throw new Error("Need at least 1 character");this._title=t}get description(){return this._description}set description(t){if("string"!=typeof t)throw new Error("Description must be string");this._description=t}get priority(){return this._priority}set priority(t){if(t<0)throw new Error("Needs to be at least 0");this._priority=t}setCompleted=()=>{this._completed=!this._completed};get completed(){return this._completed}get dueDate(){return this._dueDate}set dueDate(t){this._dueDate=t}}class b{constructor(t){if(void 0===t||"string"!=typeof t||t.length<1)throw new Error("Needs name and name needs to be a string of at least 1 character.");this._name=t,this._itemList=[],this._complete=!1,this._id=crypto.randomUUID(),this.dueDate}addItem(t){this._itemList.push(t)}removeItem(t){this._itemList.splice(t,1)}get itemList(){return[...this._itemList]}get complete(){return this._complete}set complete(t){if(1!=t&&0!=t)throw new Error("Need a value of true or false");this._complete=t}get name(){return this._name}set name(t){if(void 0===t||"string"!=typeof t||t.length<1)throw new Error("Needs name and name needs to be a string of at least 1 character.");this._name=t}get id(){return this._id}}const w=new class{constructor(){this._projects=[]}getLength=()=>this._projects.length;addProject=t=>{const e=(t=>{if(void 0===t||"string"!=typeof t||t.length<1)throw new Error("Needs name and name needs to be a string of at least 1 character.");return new b(t)})(t);this._projects.push(e),localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};loadProjects=()=>[...this._projects];getProjLength=t=>this._projects[t].itemList.length;findProjInd=t=>{for(let e=0;e<this._projects.length;e++)if(this._projects[e].id==t)return e};deleteProj=t=>{if(t>=this._projects.length||t<0)throw new Error("Index must be between 0 and length of projects - 1");this._projects.splice(t,1),localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};changeProjName=(t,e)=>{if(e>=this._projects.length||e<0)throw new Error("Index must be between 0 and length of projects - 1");this._projects[e].name=t,localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};makeTodo=(t,e=null,n=0)=>{const o=((t,e=null,n=0)=>{if(void 0===t)return;const o=(new Date).toISOString().split("T")[0];return new y(t,o,e,n)})(t,e,n);return o};addToDoToProj=(t,e)=>{if(e>=this._projects.length||e<0)throw new Error("Index must be between 0 and length of projects - 1");if(!(t instanceof y))throw new Error("Has to be an inbuilt instance of a toDo object");0==t.priority&&(t.priority=this._projects[e].itemList.length+1),this._projects[e].addItem(t),localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};loadToDos=t=>{if(t>=this._projects.length||t<0)throw new Error("Index must be between 0 and length of projects - 1");return this._projects[t].itemList};findToDoInd=(t,e)=>{for(let n=0;n<this._projects[e].itemList.length;n++)if(this._projects[e].itemList[n].id==t)return n};delToDo=(t,e)=>{if(e>=this._projects.length||e<0)throw new Error("Index must be between 0 and length of projects - 1");if(t>=this._projects[e].length||t<0)throw new Error("Index must be between 0 and length of toDos in project - 1");this._projects[e].removeItem(t,1),localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};changeToDoTitle=(t,e,n)=>{if(n>=this._projects.length||n<0)throw new Error("Index must be between 0 and length of projects - 1");if(e>=this._projects[n].length||e<0)throw new Error("Index must be between 0 and length of toDos in project - 1");this._projects[n].itemList[e].title=t,localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};changeToDoDesc=(t,e,n)=>{if(n>=this._projects.length||n<0)throw new Error("Index must be between 0 and length of projects - 1");if(e>=this._projects[n].length||e<0)throw new Error("Index must be between 0 and length of toDos in project - 1");this._projects[n].itemList[e].desc=t,localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};changeToDoDueDate=(t,e,n)=>{if(n>=this._projects.length||n<0)throw new Error("Index must be between 0 and length of projects - 1");if(e>=this._projects[n].length||e<0)throw new Error("Index must be between 0 and length of toDos in project - 1");if(!(t instanceof Date))throw new Error("Must be instance of date");t=t.toISOString().split("T")[0],this._projects[n].itemList[e].dueDate=t,localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};resetPriority=t=>{const e=this.getProjLength(t);for(let n=0;n<e;n++)this._projects[t].itemList[n].priority=n+1;localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};changeToDoPriority=(t,e,n)=>{if(n>=this._projects.length||n<0)throw new Error("Index must be between 0 and length of projects - 1");if(e>=this._projects[n].length||e<0)throw new Error("Index must be between 0 and length of toDos in project - 1");const o=this._projects[n].itemList.findIndex((e=>e.priority==t));if(-1!=o){const t=this._projects[n].itemList[o].priority;return this._projects[n].itemList[o].priority=this._projects[n].itemList[e].priority,this._projects[n].itemList[e].priority=t,void([this._projects[n].itemList[o],this._projects[n].itemList[e]]=[this._projects[n].itemList[e],this._projects[n].itemList[o]])}this._projects[n].itemList[e].priority=t,localStorage.setItem("projects",JSON.stringify(this.loadProjects()))};changeCompleted=(t,e)=>{if(e>=this._projects.length||e<0)throw new Error("Index must be between 0 and length of projects - 1");if(t>=this._projects[e].length||t<0)throw new Error("Index must be between 0 and length of toDos in project - 1");this._projects[e].itemList[t].setCompleted(),localStorage.setItem("projects",JSON.stringify(this.loadProjects()))}},E=n.p+"c6f0f0c235428bc94072.svg",L=n.p+"9398b7a57dad7eba9d09.svg";new class{constructor(t){this.handler=t}loadProjects(t){const e=this.handler.loadProjects(),n=t.getElementById("projectList");n.innerText="";for(let o=0;o<e.length;o++){let r=t.createElement("li");r.style.cursor="pointer",r.classList.add("projectListItem"),r.innerText=e[o].name;const i=o;r.addEventListener("click",(()=>{this.loadInProject(t,i)})),n.appendChild(r)}}loadInProject(t,e){const n=t.getElementById("projectInfo");n.innerText="";const o=this.handler.loadProjects();this.loadTodos(t,e);const r=t.createElement("h2");r.innerText=o[e].name,r.dataset.id=o[e].id,r.id="toDosProjName",n.appendChild(r),r.style.textAlign="start",r.style.marginLeft="1rem";const i=this.getEditButton(t,e,n,r);n.appendChild(i)}projEditor(t,e,n,o,r){e.removeChild(n),e.removeChild(o);const i=t.createElement("input");i.classList.add("projectListInput"),i.type="input",i.value=n.innerText;const s=t.createElement("div");s.style.display="flex";const d=t.createElement("button");d.classList.add("checkBtn");const a=t.createElement("button");a.classList.add("delBtn");const c=t.createElement("img");c.src=j,c.style.width="20px",d.style.marginLeft="1rem",d.appendChild(c);const l=t.createElement("img");l.src=L,l.style.width="20px",a.appendChild(l),s.appendChild(d),s.appendChild(a),e.appendChild(i),e.appendChild(s),i.focus();const p=()=>{e.removeChild(i),e.removeChild(s),e.appendChild(n),e.appendChild(o),a.removeEventListener("click",p)};a.addEventListener("click",p);const h=()=>{this.handler.changeProjName(i.value,r),this.loadProjects(t),this.loadInProject(t,r),d.removeEventListener("click",h)};d.addEventListener("click",h)}getEditButton(t,e,n,o){const r=t.createElement("button");r.classList.add("editButton");const i=t.createElement("img");return i.src=E,r.appendChild(i),r.addEventListener("click",(s=>{s.stopPropagation();const d=t.getElementById(`projUl-${e}`);if(d)return void d.remove();const a=t.createElement("ul");a.id=`projUl-${e}`,a.classList.add("editWindowToDo");const c=t.createElement("li");c.classList.add("editLi"),c.innerText="Edit",c.addEventListener("click",(()=>{this.projEditor(t,n,o,r,e)}));const l=t.createElement("li");l.classList.add("delLi"),l.innerText="Delete",l.addEventListener("click",(()=>{this.deleteProj(e),0==this.handler.getLength()&&(this.addProject("Default"),this.makeToDo("First Task","Make a new project, make a new task, edit it, delete it, do whatever you want with it.",0,0)),this.loadProjects(t),this.loadInProject(t,0)})),a.appendChild(c),a.appendChild(l),t.body.appendChild(a);const p=r.getBoundingClientRect();a.style.left=`${p.left}px`,a.style.top=`${p.bottom+window.scrollY}px`,t.addEventListener("click",(function n(o){if(o.target.id!==`projUl-${e}`&&o.target!==i){const o=t.getElementById(`projUl-${e}`);o&&(t.removeEventListener("click",n),o.remove())}}))})),r}addProject(t){try{return this.handler.addProject(t),!0}catch(t){return alert(t),!1}}loadTodos(t,e){const n=this.handler.loadToDos(e);n.sort(((t,e)=>t.priority-e.priority));const o=t.getElementById("toDoList");o.innerText="",n.forEach(((r,i)=>{const s=this.createToDoItem(r,i,n.length,e,t);o.appendChild(s)}))}createToDoItem(t,e,n,o,r){const i=r.createElement("li");i.classList.add("andNotes");const s=r.createElement("h2");s.classList.add("priorityH2"),s.innerText=`#${e+1}`,i.appendChild(s);const d=r.createElement("div");d.classList.add("sepDivContainer");const{container:a,content:c}=this.createSection("Task: ",t.title),{container:l,content:p}=this.createSection("Notes: ",t.description),{container:h,content:m}=this.createSection("Due: ",t.dueDate);d.appendChild(a),d.appendChild(l),d.appendChild(h),i.appendChild(d);const u=this.createEditButton(e,o,i,d,a,l,h,c,p,m,t,r);return i.appendChild(u),a.querySelector("h2").addEventListener("click",(()=>this.toggleExpand(c,p,i))),l.querySelector("h2").addEventListener("click",(()=>this.toggleExpand(p,c,i))),i}deleteToDo(t,e){this.handler.delToDo(e,t),this.handler.resetPriority(t)}deleteProj(t){this.handler.deleteProj(t)}createSection(t,e){const n=document.createElement("div");n.classList.add("projLiSep");const o=document.createElement("h2");o.innerText=t;const r=document.createElement("div");return r.classList.add("notes"),r.innerText=e,n.appendChild(o),n.appendChild(r),{container:n,content:r}}toggleExpand(t,e,n){"none"===t.style.maxHeight?(t.style.maxHeight="1rem","1rem"===e.style.maxHeight&&(n.style.alignItems="center")):(t.style.maxHeight="none",n.style.alignItems="start")}createEditButton(t,e,n,o,r,i,s,d,a,c,l,p){const h=p.createElement("button");h.classList.add("editButton");const m=p.createElement("img");return m.src=E,h.appendChild(m),h.addEventListener("click",(u=>{u.stopPropagation();const g=p.getElementById(`toDoUl-${e}-${t}`);if(g)return void g.remove();const f=p.createElement("ul");f.id=`toDoUl-${e}-${t}`,f.classList.add("editWindowToDo");const j=p.createElement("li");j.classList.add("editLi"),j.innerText="Edit",j.addEventListener("click",(()=>{this.activateEditMode(n,o,r,i,s,d,a,c,t,e,l)}));const v=p.createElement("li");v.classList.add("delLi"),v.innerText="Delete",v.addEventListener("click",(()=>{const t=this.handler.loadToDos(e).findIndex((t=>t.title===l.title&&t.description===l.description));-1!==t&&(this.deleteToDo(e,t),this.loadTodos(p,e))})),f.appendChild(j),f.appendChild(v),h.appendChild(f);const y=h.getBoundingClientRect(),b=f.getBoundingClientRect();f.style.left=y.left-b.width+7+"px",p.addEventListener("click",(function n(o){if(o.target.id!==`toDoUl-${e}-${t}`&&o.target!==m){const o=p.getElementById(`toDoUl-${e}-${t}`);o&&(p.removeEventListener("click",n),o.remove())}}))})),h}activateEditMode(t,e,n,o,r,i,s,d,a,c,l){t.removeChild(t.querySelector(".editButton")),t.style.gridTemplateColumns="30px 1fr 60px";const p=document.createElement("div");p.classList.add("priorityDiv");const h=document.createElement("label");h.innerText="Priority: ",h.htmlFor=`priority-${a}`;const m=document.createElement("select");m.id=`priority-${a}`;for(let t=0;t<this.handler.loadToDos(c).length;t++){const e=document.createElement("option");e.value=t+1,e.innerText=t+1,m.appendChild(e)}m.value=l.priority,p.appendChild(h),p.appendChild(m),e.appendChild(p);const u=document.createElement("div");u.classList.add("projConfirmationButtons"),u.innerHTML='<div class="checkBtn"><img id="tEditConfirm" style="width: 20px;"></div>\n                        <div class="delBtn"><img id="tEditBack" style="width: 20px;"></div>',t.appendChild(u);const g=document.getElementById("tEditConfirm"),f=document.getElementById("tEditBack");g.src=j,f.src=L,n.removeChild(n.children[1]),o.removeChild(o.children[1]),r.removeChild(r.children[1]);const v=document.createElement("input");v.value=i.innerText,v.classList.add("newTitle");const y=document.createElement("textarea");y.value=s.innerText,y.classList.add("newNotes");const b=document.createElement("input");b.type="date",b.style.maxHeight="1rem",n.appendChild(v),o.appendChild(y),r.appendChild(b),g.addEventListener("click",(()=>{const t=this.handler.loadToDos(c).findIndex((t=>t.title===l.title&&t.description===l.description));-1!==t&&(this.handler.changeToDoDesc(y.value,t,c),this.handler.changeToDoTitle(v.value,t,c),this.handler.changeToDoPriority(Number(m.value),t,c),b.value&&this.handler.changeToDoDueDate(new Date(b.value),t,c),this.loadTodos(document,c))})),f.addEventListener("click",(()=>{this.loadTodos(document,c)}))}makeToDo(t,e,n,o){try{const r=this.handler.makeTodo(t,e,n);return this.handler.addToDoToProj(r,o),!0}catch(t){return alert(t),!1}}injectProjectInput(t){if(t.getElementById("projInputLi"))return;const e=t.getElementById("projectList"),n=t.createElement("li");n.id="projInputLi";const o=t.createElement("input");n.classList.add("projectListItem"),o.placeholder="Project Name",n.appendChild(o);const r=t.createElement("div");r.classList.add("projConfirmationButtons");const i=t.createElement("div");i.addEventListener("click",(()=>{const e=o.value;if(this.addProject(e)){this.loadProjects(t);const e=this.handler.getLength();this.loadInProject(t,e-1)}})),i.classList.add("checkBtn");const s=t.createElement("img");s.style.width="20px",s.src=j,i.appendChild(s);const d=t.createElement("div");d.classList.add("delBtn");const a=t.createElement("img");a.style.width="20px",a.src=v,d.appendChild(a),r.appendChild(i),r.appendChild(d),n.appendChild(r),d.addEventListener("click",(()=>{n.remove()})),e.prepend(n)}injectToDoInput(t){if(t.getElementById("toDoInputLi"))return;const e=t.getElementById("toDoList"),n=t.createElement("li");n.style.gridTemplateColumns="1fr 60px",n.style.columnGap="1rem",n.id="toDoInputLi",n.classList.add("projectListItem","andNotes"),n.innerHTML='<div class="inputDiv">\n                       <input id="toDoInput" type="text" placeholder="What do you need done?">\n                      <textarea id="textAreaInput" placeholder="Notes"></textarea>\n                  </div>\n                  <div class="projConfirmationButtons" style="margin-right: 7px;">\n                      <div class="checkBtn"><img id="projCheckBtn" style="width: 20px;"></div>\n                      <div class="delBtn"><img id="projDelBtn" style="width: 20px;"></div>\n                  </div>',e.prepend(n);const o=t.getElementById("projCheckBtn");o.src=j;const r=t.getElementById("projDelBtn");r.src=v,r.addEventListener("click",(()=>{n.remove()})),o.addEventListener("click",(()=>{const e=t.getElementById("toDosProjName").dataset.id,n=this.handler.findProjInd(e),o=t.getElementById("toDoInput").value,r=t.getElementById("textAreaInput").value;this.makeToDo(o,r,0,n),this.loadTodos(t,n)}))}start(t){if(!t)throw new Error("needs a document");if(localStorage.getItem("projects")){const t=JSON.parse(localStorage.getItem("projects"));for(let e=0;e<t.length;e++){this.handler.addProject(t[e]._name);for(let n=0;n<t[e]._itemList.length;n++)this.makeToDo(t[e]._itemList[n]._title,t[e]._itemList[n]._description,t[e]._itemList[n]._priority,e)}}let e=this.handler.getLength();0==e&&(this.addProject("Default"),this.makeToDo("First Task","Make a new project, make a new task, edit it, delete it, do whatever you want with it.",0,0)),e=this.handler.getLength(),this.loadProjects(t),this.loadInProject(t,0),this.projectAddButton=t.getElementById("projectAddButton"),this.toDoAddButton=t.getElementById("toDoAddButton"),this.projectAddButton.addEventListener("click",(()=>{this.injectProjectInput(t)})),this.toDoAddButton.addEventListener("click",(()=>{t.getElementById("toDosProjName").dataset.id&&this.injectToDoInput(t)}))}}(w).start(document)})();